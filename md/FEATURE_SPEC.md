# 🎬 YouTube Creator Platform - 기능명세서

> 정보 공유형 유튜버를 위한 올인원 콘텐츠 매니지먼트 플랫폼

---

## 📌 프로젝트 개요

### 핵심 목표
- **양산형 콘텐츠 탈피**: AI 기반 페르소나 학습으로 고유한 스타일 유지
- **근거 자료의 원본성 확보**: 리사이즈 없는 원본 이미지/표 제공
- **유튜버 생산성 극대화**: 아이디어 → 업로드까지 원스톱 워크플로우

### 타겟 사용자
- 정보/지식 공유형 유튜버 (뉴스, 시사, 테크, 경제 등)
- 초보 유튜버 ~ 중급 유튜버

---

## 🔐 1. 인증 시스템

### 1.1 구글 로그인 (기존 유튜버)
YouTube API 연동을 통해 채널 정보 자동 수집:
- ✅ 채널 이름
- ✅ 채널 카테고리
- ✅ 업로드 주기 (최근 영상 기반 분석)
- ✅ 타겟 시청자층 (Analytics API)
- ✅ 기존 영상 자막 → 페르소나 학습용

> [!NOTE]
> YouTube API로는 "스크립트(대본)"를 직접 가져올 수 없음. 
> 대신 **자동 생성 자막**을 활용하여 페르소나를 학습함.

### 1.2 일반 로그인 (초보 유튜버)
수동 입력 필요:
- 채널 이름 (예정)
- 카테고리 선택
- 예상 업로드 횟수 (주 N회)
- 타겟 시청자층 선택

---

## 📊 2. 콘텐츠 대시보드

### 2.1 콘텐츠 캘린더
- 업로드 주기에 맞춰 **날짜별 콘텐츠 추천** 표시
- 확정된 주제는 캘린더에 고정
- 드래그앤드롭으로 일정 조정 가능

### 2.2 실시간 인사이트
핫한 주제와 인기 뉴스 실시간 표시

**데이터 소스**:
| 소스 | 용도 |
|------|------|
| Google Trends | 검색량 급상승 키워드 |
| Naver 실시간 검색어 | 한국 로컬 이슈 |
| YouTube Trending | 현재 인기 영상 주제 |
| 뉴스 RSS/크롤링 | 최신 뉴스 헤드라인 |

### 2.3 확정된 주제 업데이트
- 주제 확정 시 관련 뉴스 자동 수집 시작
- **업데이트 주기**: 매일 (Daily Batch)
- 다른 주제 선택 시 기존 주제 대체

---

## ✍️ 3. 스크립트 생성

### 3.1 AI 스크립트 자동 생성
스크립트 작성 시 고려 요소:
- ✅ 참고 뉴스/기사 내용
- ✅ 경쟁사 유튜브 영상 분석
- ✅ 유튜브 알고리즘 최적화 (후킹, 구조)
- ✅ 사용자 페르소나 (말투, 톤앤매너)

### 3.2 참고자료 뷰어
스크립트에 사용된 자료를 출처별로 표시:
- 뉴스 기사 원문 링크
- **원본 해상도 이미지** 다운로드
- 표(Table) 스크린샷

### 3.3 경쟁 영상 분석
같은 주제의 YouTube 영상 3개 분석:
- 제목, 조회수, 좋아요, 댓글 수
- AI 분석: 성공 포인트 & 개선사항

> [!WARNING]
> **MVP 범위**: 댓글 분석은 API quota 소모가 크므로 Phase 2에서 추가

### 3.4 저장 기능
- 스크립트 저장 (DB)
- 히스토리 관리

---

## 🖼️ 4. 썸네일 생성

### 4.0 썸네일 생성 입력 데이터 (Inputs)
*이 모든 데이터가 썸네일 생성 에이전트와 모델에게 전달됩니다.*
- **이미지 에셋 (Image Assets)**
  - 유튜버 인물 사진 (Persona)
  - 썸네일 레퍼런스 사진 (스타일 참고용)
  - 템플릿 이미지 (구조/레이아웃)
  - 키워드 관련 이미지 (배경 및 오브젝트 소스)
- **텍스트 데이터 (Text Data)**
  - 키워드 (AI 에이전트 추출 or 사용자 입력)
  - 스크립트 요약 내용 (Writer Agent 생성)
- **제어 데이터 (Control)**
  - Nano Banana Pro 전용 프롬프트 (Prompt)

### 4.1 텍스트 생성 및 확정 (이미지 생성 전)
요약된 스크립트와 키워드를 바탕으로 에이전트가 텍스트 제안:
- **주제목(Main Title) & 부제목(Subtitle)**: 3가지 옵션 제공 (UI)
- **사용자 선택 및 커스텀**: 제공된 3가지 옵션 중 선택하거나, **직접 입력(Custom Input)** 가능
- *목표*: 이미지 생성 전 텍스트 퀄리티 확보 및 비용 효율성 증대

### 4.2 디자인/컨셉 선택 및 의도 확인 (Verification)
**"사용자의 의도를 AI가 먼저 파악하여 불필요한 재생성 방지"**
- **AI 스타일 제안**: 영상 스크립트 분위기에 맞춰 3가지 시각적 컨셉 제안  ****이부분 협의필요*****
  - 예: *[뉴스룸 스타일]*, *[유튜버 리액션 강조]*, *[텍스트 중심 고대비]*
- **기획 의도 확인 (Intent Verification)**:
  - 프롬프트 코드를 보여주는 대신, **AI가 이해한 의도**를 자연어로 요약하여 사용자에게 컨펌 요청
  - *Agent*: "긴박한 뉴스 속보 느낌으로, 배경은 어둡게 하고 텍스트는 빨간색으로 강조할까요?"
  - *User*: 승인(OK) 또는 자연어로 피드백("아니, 배경 좀 더 밝게 해줘")
- **Prompt Engineering Agent**: 사용자 피드백을 반영하여 내부적으로 Nano Banana Pro 전용 고성능 프롬프트 최적화
  - *Reference*: `docs/NANO_BANANA_BEST_PRACTICES.md` (공식 프롬프트 가이드 준수)

### 4.3 썸네일 어시스턴트 (Mini Chatbot UI)
**"복잡한 채팅창이 아닌, 스마트 위젯 형태의 대화형 인터페이스"**
- **역할**: 4.1(텍스트 확정)과 4.2(의도 확인) 단계를 가이드하는 밀착형 도우미
- **UI 형태**: 화면 우측 작업 영역 옆에 위치한 **Smart Widget**
- **기능**:
  - AI 제안 요약 카드 제시 ("이런 느낌으로 만들까요?")
  - 원클릭 스타일 변경 버튼 제공
  - 자연어 피드백 입력창 ("좀 더 밝게 해줘")
  - **Prompt Hiding**: 복잡한 프롬프트는 숨기고, '기획 의도' 위주로 소통

### 4.4 썸네일 이미지 생성
확정된 텍스트와 컨셉(프롬프트)을 기반으로 이미지 생성:
- **이미지 생성 모델**: Nano Banana Pro (Google DeepMind)
- 확정된 주제목/부제목을 반영하여 고품질 썸네일 생성

### 4.5 다운로드
- 고해상도 썸네일 다운로드 (2K/4K)

### 4.6 시스템 설계 및 구현 가이드 (LangGraph)
- **상세 설계서**: `docs/THUMBNAIL_GENERATION_DESIGN.md`
- **핵심 아키텍처**: 4인 에이전트(`Copywriter`, `Art Director`, `Interaction`, `Prompt Specialist`)와 `interrupt_before`를 활용한 인간 참여형(Human-in-the-loop) 워크플로우 구현.

---

## 📤 5. 업로드 최적화

### 5.1 메타데이터 자동 생성
- 영상 제목 (SEO 최적화)
- 설명문
- 태그

### 5.2 업로드 시간 추천
- YouTube Analytics 기반 최적 시간 분석
- 채널 시청자 활동 패턴 고려

### 5.3 YouTube 연동

> [!CAUTION]
> YouTube 업로드 API는 Google 보안 심사가 필요함 (수 주~수 개월 소요)

**MVP 전략**:
- Phase 1: 메타데이터 복사 기능 + YouTube Studio 링크 제공
- Phase 2: 직접 업로드 API 연동 (심사 통과 후)

---

## 🤖 6. 멀티에이전트 아키텍처 (LangGraph)

### 필수 에이전트
| 에이전트 | 역할 |
|----------|------|
| **Supervisor** | 워크플로우 조율, 최종 결정 |
| **Evaluator** | 품질 검증, 재작업 지시 |
| **Trend Agent** | 트렌드 분석, 콘텐츠 추천 |
| **Scraper Agent** | 원본 자료 수집 (Playwright) |
| **Writer Agent** | 스크립트 초안 작성 |
| **Persona Agent** | 페르소나 변환 (RAG) |
| **Copywriter Agent** | 썸네일 텍스트(제목/부제) 생성 |
| **Art Director Agent** | 비주얼 컨셉 기획 |
| **Interaction Agent** | 사용자 의도 파악 & 가이드 (Mini Chatbot) |
| **Prompt Specialist** | Nano Banana 프롬프트 최적화 |
| **Upload Agent** | 메타데이터 생성, 시간 추천 |

### 워크플로우
```
사용자 요청 → Supervisor → 적절한 에이전트 호출
    ↓
Writer/Persona작업 → Copywriter(텍스트) → Art Director(기획)
    ↓
Interaction Agent(사용자 컨펌/수정) → Prompt Specialist
    ↓
Nano Banana 생성 → 최종 결과물
```

---

## 🛠️ 7. 기술 스택

### Frontend
- Next.js 16 + React 19
- TailwindCSS
- shadcn/ui

### Backend
- Python + FastAPI
- LangGraph (멀티에이전트)
- LangChain (RAG, Tools)

### AI/ML
- Gemini API (LLM 백본)
- Nano Banana Pro (이미지 생성)
- ChromaDB (벡터 DB)

### External APIs
- YouTube Data API v3
- YouTube Analytics API
- Naver 뉴스 (크롤링)
- Google Trends

### 크롤링
- Playwright (원본 이미지, 테이블 스크린샷)

---

## 🚀 8. 개발 로드맵

### Phase 1 (MVP)
- [ ] 인증 시스템 (구글/일반 로그인)
- [ ] 대시보드 (캘린더 + 인사이트)
- [ ] 콘텐츠 추천 → 주제 확정
- [ ] 스크립트 자동 생성
- [ ] 참고자료 뷰어
- [ ] 썸네일 생성 + 다운로드
- [ ] 업로드 메타데이터 생성

### Phase 2
- [ ] 경쟁 영상 분석 (댓글 포함)
- [ ] YouTube 직접 업로드 API
- [ ] 올린 영상 AI 분석

### Phase 3 (확장)
- [ ] 릴스/숏츠 편집 기능
- [ ] 썸네일 고급 편집기 (문구 수정, 인물 합성)
- [ ] 다국어 지원

---

## 📝 Open Questions

1. **인물 사진 수정 방식**: 사용자 업로드 vs AI 생성?
2. **실시간 인사이트 업데이트 주기**: 실시간 vs 1시간 단위?
3. **페르소나 학습 최소 데이터**: 몇 개 영상 자막이 필요한가?
4. **배포 환경**: Vercel + Railway? Docker + GCP?

---

*Last Updated: 2026-01-20*
